local UILib = loadstring(game:HttpGet('https://raw.githubusercontent.com/StepBroFurious/Script/main/HydraHubUi.lua'))()
local Window = UILib.new("Grand Piece Online", game.Players.LocalPlayer.UserId, "Buyer")
local Category1 = Window:Category("Main", "http://www.roblox.com/asset/?id=8395621517")
local SubButton1 = Category1:Button("Combat", "http://www.roblox.com/asset/?id=8395747586")
local Section1 = SubButton1:Section("Section", "Left")

-- Aimbot Script
local Camera = workspace.CurrentCamera
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Holding = false

_G.AimbotEnabled = false  -- Default: off
_G.TeamCheck = true -- If set to true, only lock onto enemies from other teams
_G.AimPart = "Head" -- Lock at this part of the enemy
_G.Sensitivity = 0.2 -- Aimbot strength (how fast the aimbot locks onto the target)
_G.FovSize = 100 -- Default FOV size

-- Function to create the hollow FOV Circle
local function UpdateFovCircle()
    -- Remove existing circle if it exists
    if _G.FovCircle then
        _G.FovCircle:Destroy()
    end

    -- Create new FOV circle (hollow)
    _G.FovCircle = Instance.new("Frame")
    _G.FovCircle.AnchorPoint = Vector2.new(0.5, 0.5)
    _G.FovCircle.Position = UDim2.new(0.5, 0, 0.5, 0)  -- Center of the screen
    _G.FovCircle.Size = UDim2.new(0, _G.FovSize * 2, 0, _G.FovSize * 2)  -- Size based on FOV
    _G.FovCircle.BackgroundTransparency = 1  -- Make background transparent
    _G.FovCircle.BorderSizePixel = 2  -- Border size to create the ring effect
    _G.FovCircle.BorderColor3 = Color3.fromRGB(255, 0, 0)  -- Red color for the border
    _G.FovCircle.Parent = game:GetService("CoreGui"):FindFirstChildOfClass("ScreenGui")

    -- Add the circle stroke effect (making it hollow)
    local stroke = Instance.new("UIStroke")
    stroke.Parent = _G.FovCircle
    stroke.Thickness = 2
    stroke.Color = Color3.fromRGB(255, 0, 0)  -- Red color for the stroke
    stroke.Transparency = 0.5  -- Slight transparency to make it hollow
end

-- Function to get the closest player for aimbot targeting
local function GetClosestPlayer()
    local MaximumDistance = math.huge
    local Target = nil

    for _, v in pairs(Players:GetPlayers()) do
        if v.Name ~= LocalPlayer.Name then
            if _G.TeamCheck == true then
                if v.Team ~= LocalPlayer.Team then
                    if v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
                        if v.Character:FindFirstChild("Humanoid") and v.Character.Humanoid.Health ~= 0 then
                            local ScreenPoint = Camera:WorldToScreenPoint(v.Character.HumanoidRootPart.Position)
                            local VectorDistance = (Vector2.new(UserInputService:GetMouseLocation().X, UserInputService:GetMouseLocation().Y) - Vector2.new(ScreenPoint.X, ScreenPoint.Y)).Magnitude

                            -- Check if player is inside the FOV circle
                            local fovDistance = (Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2) - Vector2.new(ScreenPoint.X, ScreenPoint.Y)).Magnitude
                            if fovDistance <= _G.FovSize then  -- Target is inside the FOV circle
                                if VectorDistance < MaximumDistance then
                                    Target = v
                                    MaximumDistance = VectorDistance
                                end
                            end
                        end
                    end
                end
            else
                if v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
                    if v.Character:FindFirstChild("Humanoid") and v.Character.Humanoid.Health ~= 0 then
                        local ScreenPoint = Camera:WorldToScreenPoint(v.Character.HumanoidRootPart.Position)
                        local VectorDistance = (Vector2.new(UserInputService:GetMouseLocation().X, UserInputService:GetMouseLocation().Y) - Vector2.new(ScreenPoint.X, ScreenPoint.Y)).Magnitude

                        -- Check if player is inside the FOV circle
                        local fovDistance = (Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2) - Vector2.new(ScreenPoint.X, ScreenPoint.Y)).Magnitude
                        if fovDistance <= _G.FovSize then  -- Target is inside the FOV circle
                            if VectorDistance < MaximumDistance then
                                Target = v
                                MaximumDistance = VectorDistance
                            end
                        end
                    end
                end
            end
        end
    end

    return Target
end

-- Handling mouse input for Aimbot activation
UserInputService.InputBegan:Connect(function(Input)
    if Input.UserInputType == Enum.UserInputType.MouseButton2 then
        Holding = true
    end
end)

UserInputService.InputEnded:Connect(function(Input)
    if Input.UserInputType == Enum.UserInputType.MouseButton2 then
        Holding = false
    end
end)

-- Aimbot logic during each frame
RunService.RenderStepped:Connect(function()
    if Holding and _G.AimbotEnabled then
        local target = GetClosestPlayer()
        if target and target.Character and target.Character:FindFirstChild(_G.AimPart) then
            TweenService:Create(Camera, TweenInfo.new(_G.Sensitivity, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), {CFrame = CFrame.new(Camera.CFrame.Position, target.Character[_G.AimPart].Position)}):Play()
        end
    end
end)

-- ESP/Chams logic
local settings_tbl = {
    ESP_Enabled = false,  -- Default: off
    ESP_TeamCheck = false,
    Chams = false,  -- Default: off
    Chams_Color = Color3.fromRGB(255, 0, 0),
    Chams_Transparency = 0.1,
    Chams_Glow_Color = Color3.fromRGB(255, 0, 0)
}

local function destroy_chams(char)
    for _, v in pairs(char:GetChildren()) do
        if v:IsA("BasePart") and v.Transparency ~= 1 then
            if v:FindFirstChild("Glow") and v:FindFirstChild("Chams") then
                v.Glow:Destroy()
                v.Chams:Destroy()
            end
        end
    end
end

RunService.Heartbeat:Connect(function()
    if settings_tbl.ESP_Enabled then
        for _, v in pairs(Players:GetPlayers()) do
            if v ~= LocalPlayer then
                if v.Character and v.Character:FindFirstChild("HumanoidRootPart") and v.Character:FindFirstChild("Humanoid") and v.Character.Humanoid.Health ~= 0 then
                    if settings_tbl.ESP_TeamCheck == false or (settings_tbl.ESP_TeamCheck and v.Team ~= LocalPlayer.Team) then
                        local char = v.Character
                        for _, b in pairs(char:GetChildren()) do
                            if b:IsA("BasePart") and b.Transparency ~= 1 then
                                if settings_tbl.Chams then
                                    if not b:FindFirstChild("Glow") and not b:FindFirstChild("Chams") then
                                        local chams_box = Instance.new("BoxHandleAdornment", b)
                                        chams_box.Name = "Chams"
                                        chams_box.AlwaysOnTop = true
                                        chams_box.ZIndex = 4
                                        chams_box.Adornee = b
                                        chams_box.Color3 = settings_tbl.Chams_Color
                                        chams_box.Transparency = settings_tbl.Chams_Transparency
                                        chams_box.Size = b.Size + Vector3.new(0.02, 0.02, 0.02)

                                        local glow_box = Instance.new("BoxHandleAdornment", b)
                                        glow_box.Name = "Glow"
                                        glow_box.AlwaysOnTop = false
                                        glow_box.ZIndex = 3
                                        glow_box.Adornee = b
                                        glow_box.Color3 = settings_tbl.Chams_Glow_Color
                                        glow_box.Size = chams_box.Size + Vector3.new(0.13, 0.13, 0.13)
                                    end
                                else
                                    destroy_chams(char)
                                end
                            end
                        end
                    else
                        destroy_chams(v.Character)
                    end
                else
                    destroy_chams(v.Character)
                end
            end
        end
    else
        for _, v in pairs(Players:GetPlayers()) do
            if v ~= LocalPlayer and v.Character and v.Character:FindFirstChild("HumanoidRootPart") and v.Character:FindFirstChild("Humanoid") and v.Character.Humanoid.Health ~= 0 then
                destroy_chams(v.Character)
            end
        end
    end
end)

-- UI Toggles and Sliders for settings
Section1:Toggle({
    Title = "Activate Aimbot",
    Description = "Automatically aim at the nearest enemy.",
    Default = false
}, function(value)
    _G.AimbotEnabled = value
end)

Section1:Toggle({
    Title = "Activate ESP",
    Description = "Enable ESP for enemies (shows glow and outlines).",
    Default = settings_tbl.ESP_Enabled
}, function(value)
    settings_tbl.ESP_Enabled = value
end)

Section1:Toggle({
    Title = "ESP Team Check",
    Description = "Only show ESP for enemies (excluding teammates).",
    Default = settings_tbl.ESP_TeamCheck
}, function(value)
    settings_tbl.ESP_TeamCheck = value
end)

Section1:Toggle({
    Title = "Activate Chams",
    Description = "Enable chams (glowing outlines) for enemies.",
    Default = settings_tbl.Chams
}, function(value)
    settings_tbl.Chams = value
end)

Section1:ColorPicker({
    Title = "Chams Color",
    Description = "Pick the color for chams.",
    Default = settings_tbl.Chams_Color
}, function(value)
    settings_tbl.Chams_Color = value
end)

Section1:Slider({
    Title = "Aimbot Strength (0-10)",
    Description = "Adjust the strength of the aimbot. 0 is off, 10 is max.",
    Default = _G.Sensitivity * 10, -- 10x scale for slider
    Min = 0,
    Max = 10,
}, function(value)
    _G.Sensitivity = value / 10 -- Scale the value down to 0-1 range for actual sensitivity
end)


-- Initially update FOV circle
UpdateFovCircle()
print ("MADE BY MAKKA")
print("menu stolen")
print ("MADE BY MAKKA")
print("menu stolen")
print ("MADE BY MAKKA")
print("menu stolen")
print ("MADE BY MAKKA")
print ("MADE BY MAKKA")
print ("MADE BY MAKKA")
print ("MADE BY MAKKA")
print ("MADE BY MAKKA")
print ("1.0 version so its kinda glitched dont use aimbot strengh 2-10")

print("have fun")
Section1:Slider({
    Title = "Aimbot FOV Size",
    Description = "Adjust the FOV size for aimbot. Larger is a wider area.",
    Default = _G.FovSize,
    Min = 50,
    Max = 500,
}, function(value)
    _G.FovSize = value
    UpdateFovCircle()  -- Update the circle size based on the slider
end)
